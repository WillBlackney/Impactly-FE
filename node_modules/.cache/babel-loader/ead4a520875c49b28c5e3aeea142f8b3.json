{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/willi/Desktop/Web Projects/Impactly/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/willi/Desktop/Web Projects/Impactly/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/willi/Desktop/Web Projects/Impactly/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{LoadingButton}from\"@mui/lab\";import{TextField,Typography,Card}from\"@mui/material\";import{Container,Box}from\"@mui/system\";import{addDoc,collection}from\"firebase/firestore\";import{firestore}from\"../firebase/clientApp\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateTaskPanel=function CreateTaskPanel(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),formError=_useState2[0],setFormError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleCreateNewTask=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var _data$get,_data$get2;var data,enteredTaskName,enteredTaskDescription,newTask,tasksDocRef;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();setFormError(\"\");setLoading(true);data=new FormData(event.currentTarget);enteredTaskName=(_data$get=data.get(\"taskName\"))===null||_data$get===void 0?void 0:_data$get.toString();enteredTaskDescription=(_data$get2=data.get(\"taskDescription\"))===null||_data$get2===void 0?void 0:_data$get2.toString();if(!(enteredTaskName==undefined||enteredTaskDescription==undefined)){_context.next=8;break;}return _context.abrupt(\"return\");case 8:if(!(enteredTaskName.length===0)){_context.next=13;break;}setFormError(\"Please enter a task name\");return _context.abrupt(\"return\");case 13:if(!(enteredTaskDescription.length===0)){_context.next=16;break;}setFormError(\"Please enter a task description\");return _context.abrupt(\"return\");case 16:newTask={//uuid: uuidv4(),\ntaskName:enteredTaskName,taskDescription:enteredTaskDescription};_context.prev=17;_context.next=20;return addDoc(collection(firestore,'tasks'),newTask);case 20:tasksDocRef=_context.sent;_context.next=25;break;case 23:_context.prev=23;_context.t0=_context[\"catch\"](17);case 25:setLoading(true);case 26:case\"end\":return _context.stop();}}},_callee,null,[[17,23]]);}));return function handleCreateNewTask(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",children:/*#__PURE__*/_jsxs(Card,{variant:\"outlined\",sx:{marginTop:4,display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",mt:4,children:\"Create New Task\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleCreateNewTask,noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{id:\"taskName\",label:\"Task name\",variant:\"standard\",margin:\"normal\",required:true,fullWidth:true,name:\"taskName\",autoFocus:true}),/*#__PURE__*/_jsx(TextField,{multiline:true,id:\"taskDescription\",label:\"Task Description\",variant:\"standard\",margin:\"normal\",required:true,fullWidth:true,name:\"taskDescription\",autoFocus:true,placeholder:\"Add a detailed description of the task\"}),/*#__PURE__*/_jsx(Typography,{component:\"p\",variant:\"body1\",color:\"red\",textAlign:\"center\",children:formError}),/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2}//loading={loading}\n,children:\"Create Task\"})]})]})});};export default CreateTaskPanel;","map":{"version":3,"names":["LoadingButton","TextField","Typography","Card","Container","Box","addDoc","collection","firestore","React","useState","CreateTaskPanel","formError","setFormError","loading","setLoading","handleCreateNewTask","event","preventDefault","data","FormData","currentTarget","enteredTaskName","get","toString","enteredTaskDescription","undefined","length","newTask","taskName","taskDescription","tasksDocRef","marginTop","display","flexDirection","alignItems","mt","mb"],"sources":["C:/Users/willi/Desktop/Web Projects/Impactly/my-app/src/components/CreateTaskPanel.tsx"],"sourcesContent":["import { LoadingButton } from \"@mui/lab\";\r\nimport {\r\n  TextField,\r\n  Typography,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  Grid,\r\n  Card,\r\n} from \"@mui/material\";\r\nimport { Container, Box } from \"@mui/system\";\r\nimport { addDoc, collection } from \"firebase/firestore\";\r\nimport { firestore } from \"../firebase/clientApp\";\r\nimport React, { useState } from \"react\";\r\nimport { Task } from \"../atoms/TasksAtom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\ntype CreateTaskPanelProps = {};\r\n\r\nconst CreateTaskPanel: React.FC<CreateTaskPanelProps> = () => {\r\n  const [formError, setFormError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleCreateNewTask = async (\r\n    event: React.FormEvent<HTMLFormElement>\r\n  ) => {\r\n    event.preventDefault();\r\n    setFormError(\"\");\r\n    setLoading(true);\r\n    const data = new FormData(event.currentTarget);\r\n    const enteredTaskName = data.get(\"taskName\")?.toString();\r\n    const enteredTaskDescription = data.get(\"taskDescription\")?.toString();\r\n\r\n    if (enteredTaskName == undefined || enteredTaskDescription == undefined)\r\n      return;\r\n\r\n    if (enteredTaskName.length === 0) {\r\n      setFormError(\"Please enter a task name\");\r\n      return;\r\n    } else if (enteredTaskDescription.length === 0) {\r\n      setFormError(\"Please enter a task description\");\r\n      return;\r\n    }\r\n\r\n    const newTask: Task = {\r\n      //uuid: uuidv4(),\r\n      taskName: enteredTaskName,\r\n      taskDescription: enteredTaskDescription,\r\n    };\r\n\r\n    try{\r\n        const tasksDocRef = await addDoc(collection(firestore, 'tasks'), newTask);\r\n\r\n    } catch{\r\n\r\n    }\r\n    setLoading(true);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"sm\">\r\n      <Card\r\n        variant=\"outlined\"\r\n        sx={{\r\n          marginTop: 4,\r\n          display: \"flex\",\r\n          flexDirection: \"column\",\r\n          alignItems: \"center\",\r\n        }}\r\n      >\r\n        <Typography component=\"h1\" variant=\"h5\" mt={4}>\r\n          Create New Task\r\n        </Typography>\r\n        <Box component=\"form\" onSubmit={handleCreateNewTask} noValidate>\r\n          <TextField\r\n            id=\"taskName\"\r\n            label=\"Task name\"\r\n            variant=\"standard\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"taskName\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            multiline\r\n            id=\"taskDescription\"\r\n            label=\"Task Description\"\r\n            variant=\"standard\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"taskDescription\"\r\n            autoFocus\r\n            placeholder=\"Add a detailed description of the task\"\r\n          />\r\n          <Typography\r\n            component=\"p\"\r\n            variant=\"body1\"\r\n            color=\"red\"\r\n            textAlign={\"center\"}\r\n          >\r\n            {formError}\r\n          </Typography>\r\n          <LoadingButton\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            sx={{ mt: 3, mb: 2 }}\r\n            //loading={loading}\r\n          >\r\n            Create Task\r\n          </LoadingButton>\r\n        </Box>\r\n      </Card>\r\n    </Container>\r\n  );\r\n};\r\nexport default CreateTaskPanel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}